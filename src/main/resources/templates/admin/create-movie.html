<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Create Movie</title>
<link rel="stylesheet" th:href="@{/css/reset.css}">
<th:block th:insert="~{common/header :: header-styles}" />
<link rel="stylesheet" th:href="@{/css/admin/create-movie.css}">
</head>
<body>
	<header th:replace="~{common/header :: cinema-header}"></header>

	<div class="admin-container">
		<h2>Add New Movie</h2>

		<form th:action="@{/admin/create-movie}" th:object="${movie}" method="post"
			enctype="multipart/form-data">
			<div class="form-section">
				<h3>Basic Information</h3>

				<div class="form-group">
					<label for="title" class="required">Title</label> <input
						type="text" id="title" th:field="*{title}" required> <span
						class="error" th:if="${#fields.hasErrors('title')}"
						th:errors="*{title}"></span>
				</div>

				<div class="form-group">
					<label for="description" class="required">Description</label>
					<textarea id="description" th:field="*{description}" required></textarea>
					<span class="error" th:if="${#fields.hasErrors('description')}"
						th:errors="*{description}"></span>
				</div>

				<div class="form-row">
					<div class="form-group">
						<label for="director" class="required">Director</label> <input
							type="text" id="director" th:field="*{director}" required>
						<span class="error" th:if="${#fields.hasErrors('director')}"
							th:errors="*{director}"></span>
					</div>

					<div class="form-group">
						<label for="genre" class="required">Genre</label> <input
							type="text" id="genre" th:field="*{genre}" required> <span
							class="error" th:if="${#fields.hasErrors('genre')}"
							th:errors="*{genre}"></span>
					</div>
				</div>
			</div>

			<div class="form-section">
				<h3>Technical Details</h3>

				<div class="form-row">
					<div class="form-group">
						<label for="durationMinutes" class="required">Duration
							(minutes)</label> <input type="number" id="durationMinutes"
							th:field="*{durationMinutes}" min="1" required> <span
							class="error" th:if="${#fields.hasErrors('durationMinutes')}"
							th:errors="*{durationMinutes}"></span>
					</div>

					<div class="form-group">
						<label for="ageRating" class="required">Age Rating</label> <select
							id="ageRating" th:field="*{ageRating}" required>
							<option value="">-- Select Age Rating --</option>
							<option th:each="rating : ${allAgeRattings}" th:value="${rating}"
								th:text="${rating}"></option>
						</select> <span class="error" th:if="${#fields.hasErrors('ageRating')}"
							th:errors="*{ageRating}"></span>
					</div>
				</div>

				<div class="form-row">
					<div class="form-group">
						<label for="releaseDate" class="required">Release Date</label> <input
							type="date" id="releaseDate" th:field="*{releaseDate}" required>
						<span class="error" th:if="${#fields.hasErrors('releaseDate')}"
							th:errors="*{releaseDate}"></span>
					</div>

					<div class="form-group">
						<label for="endShowingDate" class="required">End Showing
							Date</label> <input type="date" id="endShowingDate"
							th:field="*{endShowingDate}" required> <span
							class="error" th:if="${#fields.hasErrors('endShowingDate')}"
							th:errors="*{endShowingDate}"></span>
					</div>
				</div>

				<div class="form-group">
					<label for="status" class="required">Status</label> <select
						id="status" th:field="*{status}" required>
						<option value="">-- Select Status --</option>
						<option th:each="status : ${allMovieStatuses}"
							th:value="${status}" th:text="${status}"></option>
					</select> <span class="error" th:if="${#fields.hasErrors('status')}"
						th:errors="*{status}"></span>
				</div>
			</div>

			<div class="form-section">
				<h3>Poster Image</h3>
				<div class="form-group">
					<label for="posterFile">Upload Poster</label> <input type="file"
						id="posterFile" name="posterFile" accept="image/*">
					<p class="hint">Recommended size: 800x1200px, JPG or PNG format</p>
					<span class="error" th:if="${#fields.hasErrors('posterImagePath')}"
						th:errors="*{posterImagePath}"></span>
				</div>
			</div>

			<div class="form-actions">
				<button type="submit" class="btn-primary">Save Movie</button>
				<a th:href="@{/admin/movies}" class="btn-cancel">Cancel</a>
			</div>
		</form>
	</div>
</body>
</html>